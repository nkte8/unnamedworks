---
const allPosts = await Astro.glob('./post/*.md');
const sortedPosts = allPosts.sort((a, b) => {
  const aDate = new Date(a.frontmatter.pubDate);
  const bDate = new Date(b.frontmatter.pubDate);
  return bDate.getTime() - aDate.getTime();
});

const { currentindex, linkscount } = Astro.props;
const lastindex = currentindex + linkscount;
---
<ul>
    {sortedPosts.slice(currentindex, lastindex).map((post) => <li><a href={post.url}>{post.frontmatter.title}</a></li>)}
</ul>