---
interface Props {
    entry: Post;
    prev: Post | undefined;
    next: Post | undefined;
    baseurl: string;
}
const { entry, prev, next, baseurl } = Astro.props;

import { genPostSlug } from "@/utils/newt.ts";
import Data from "@/utils/model/postformat.json";
type Post = typeof Data;

var nextslug: undefined | string = undefined
var prevslug: undefined | string = undefined
if (next !== undefined){
    nextslug = genPostSlug(next.pubDate,next._sys.createdAt)
}
if (prev !== undefined){
    prevslug = genPostSlug(prev.pubDate,prev._sys.createdAt)
}

import Pagelist_buttons from "@/components/pagelink_buttons/main.astro";
import Menu from "@/components/menu/main.astro";

import BaseLayout from "@/layouts/ContentsLayout.astro";
import { Parsedpost } from "@/utils/parsedpost.tsx";
---

<BaseLayout entry={entry}>
    <Menu slot="header" />
    <Parsedpost client:load html={entry.content} />
    <Pagelist_buttons
        slot="footer"
        baseurl={baseurl}
        nextpage_slug={nextslug !== undefined && nextslug}
        prevpage_slug={prevslug !== undefined && prevslug}
        currentpage_title={entry.title}
    />
</BaseLayout>
