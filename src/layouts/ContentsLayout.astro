---
import '@/styles/postsformat.css';

import BaseLayout from './BookLayout.astro';
const { frontmatter } = Astro.props;
const pageTimestamp = frontmatter.pubDate.toISOString().split('T')[0];
const pageUrl = Astro.url.pathname;

// OGPカードはcards配下にファイル名と同じ名前.pngで作成する
const cardUrl = "/cards/" + pageUrl.split('/').at(-1) + ".png";

const pageTitle = frontmatter.title;
// const pageTags = frontmatter.tags;
---
<BaseLayout 
    pageTitle={pageTitle},
    page_url={pageUrl},
    card_name={cardUrl}>

    <slot name="menu" />
    <div style="font-style: italic;">Public date: {pageTimestamp}</div>
    <div class="mdbody">
        <slot name="page"/>
        {/* <ul class="tags">{pageTags.map((item:string) => <li>{item}</li>)}</ul> */}
        <div style="text-align: right;">
            <button type="submit" class="newiine_btn" data-iinename={pageTitle}>
                <span class="material-icons-round">favorite</span>
                <span class="newiine_count"></span>
            </button>
        </div>
    </div>
    <slot name="pagelist_button" slot="pagelist_button" />
</BaseLayout>